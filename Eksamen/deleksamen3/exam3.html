<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Exam </title>
    <link href="exam3.css" rel="stylesheet" media="all">
</head>
<body>
    <main>
        <h1>Fargepaletten</h1>
        <canvas id="colorspace"></canvas>
        <nav>
            <button id="addColor">Legg till en farge</button>
            <button id="emptyArray">Tilbakestill fargene</button>
            <button id="generateAll">Generer 10 nye farger</button>
        </nav>
        <h2>Endre farger:</h2>
        <section>
            <p>Bytt ut fargen i rute <select id="colorSquareIndex">
                <option value="0">1</option>
                <option value="1">2</option>
                <option value="2">3</option>
                <option value="3">4</option>
                <option value="4">5</option>
                <option value="5">6</option>
                <option value="6">7</option>
                <option value="7">8</option>
                <option value="8">9</option>
                <option value="9">10</option>
            </select> med #<input type="text" id="newColor" /> <button id="saveNewColor">Lagre ny farge</button></p>
        </section>
    </main>
    

    <script>
        //Configure canvas
        const canvas = document.getElementById("colorspace")
        canvas.width = 1000
        canvas.height = 100
        const ctx = canvas.getContext("2d")

        /* --- YOUR FUNCTIONALITY AND CODE GOES HERE --- */
        
        // document.getElementById("colorSquareIndex").innerHTML += `<option value="0">#${listColor}</option>`

        //Variabler for knappene:
        const addColorbtn = document.getElementById("addColor")
        const emptyArraybtn = document.getElementById("emptyArratbtn")
        const generateAllbtn = document.getElementById("generateAll")
        const saveNewColorbtn = document.getElementById("saveNewColor")
        
        //Variabler for minste og største verdien 
        const min = 0
        const maxNum = 9
        const maxLet = 5

        //Midlertidige varibaler for enklere kode
        let ranNumb = ""
        let ranNumbLet = ""
        let ranLet = ""

        //Variabel for lagring av resultater:
            let listColor = "#"

        //Arrayen der alt skal ligge 
        let colorArray = [] 
    
        addColorbtn.addEventListener("click", () => { //Se dokument linje 69-72 for kilde
            randomColor()
            console.log(colorArray) 
        })


        function randomColor(){
            //Den skrur av knappen når arrayen er full
            if(colorArray.length >= 9){ //Se dokument linje 77. If test for å skru av knapp
            addColorbtn.disabled = true
            console.log("det var nok farger kompis")
            }

            //For å finne tilfeldig tall
            ranNumb = Math.floor(Math.random() * ((maxNum - min + 1)+ min))
            

            //For å finne tilfeldig tall
            ranNumbLet = Math.floor(Math.random() * ((maxLet - min + 1)+ min))
            if(ranNumbLet === 0){
                ranLet = "a"
            } else if(ranNumbLet === 1){
                ranLet = "b"
            } else if(ranNumbLet === 2){
                ranLet = "c"
            } else if(ranNumbLet === 3){
                ranLet = "d"
            } else if(ranNumbLet === 4){
                ranLet = "e"
            } else if(ranNumbLet === 5){
                ranLet = "f"
            }

             //Tilfeldig plassering av tall og bokstaver som går flere 6 runder 
            for(let teller = 1; teller <= 6; teller++) {        
                const randomplace = Math.random()
                if(randomplace > 0.5){
                    listColor += ranLet 
                } else{
                    listColor += ranNumb
                }
            }
            colorArray.push(listColor)
            listColor = "#" //For å fjerne det koden lagde forrige runde
        }

        

        //requestAnimationFrame
        const requestAnimationFrame = window.requestAnimationFrame || window.msRequestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame
        function renderCanvas() {
            
            requestAnimationFrame(renderCanvas)
        }

        //Initial running of drawing canvas
        renderCanvas()
    </script>
</body>
</html>